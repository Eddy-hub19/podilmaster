# name: Build and deploy to GitHub Pages

# on:
#   push:
#     branches: [main]

# jobs:
#   build-and-deploy:
#     runs-on: ubuntu-latest
#     steps:

#       - name: Install and Build üîß
#         run: |
#           npm ci
#           npm run build

#       - name: Deploy üöÄ
#         uses: JamesIves/github-pages-deploy-action@4.1.0
#         with:
#           branch: gh-pages
#           folder: dist

name: Build and deploy to GitHub Pages

on:
  push:
    branches: [main]  # –ó–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏ –ø—É—à–µ –≤ –≤–µ—Ç–∫—É main

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest  # –ò—Å–ø–æ–ª—å–∑—É–µ–º Ubuntu –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π
    steps:
      
      # –®–∞–≥ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
      - name: Checkout üõéÔ∏è
        uses: actions/checkout@v3  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

      - name: Install and Build üîß
        run: |
          npm ci  # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º package-lock.json
          npm run build  # –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–æ–±—ã—á–Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø–∞–ø–∫–µ dist)

      # –®–∞–≥ –¥–ª—è –¥–µ–ø–ª–æ—è –Ω–∞ GitHub Pages
      - name: Deploy üöÄ
        uses: JamesIves/github-pages-deploy-action@4.1.0
        with:
          branch: gh-pages  # –í–µ—Ç–∫–∞ –¥–ª—è –¥–µ–ø–ª–æ—è
          folder: dist  # –ü–∞–ø–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –¥–µ–ø–ª–æ–∏—Ç—å—Å—è
          token: ${{ secrets.GITHUB_TOKEN }}  # –¢–æ–∫–µ–Ω –¥–ª—è –¥–µ–ø–ª–æ—è (–Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
